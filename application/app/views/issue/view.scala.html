@import controllers.form.IssueForm
@(issue: IssueForm, form: Form[IssueForm])

@main("View issue detail") {
  <div class="panel panel-default" style="margin-top: 100px">
    <div class="panel-heading">
      <label class="text-uppercase">EDIT ISSUE</label>
    </div>
    <div class="panel-body">
      <form class="form-horizontal" action="/issues/@issue.id" id="form-edit-issue">
        <div class="form-group" style="display: none">
          <label for="issue" class="col-sm-2 control-label">Id</label>
          <div class="col-sm-10">
            <input rows="3" class="form-control" name="id" readonly value="@issue.id" />
          </div>
        </div>

        <div class="form-group">
          <label for="issue" class="col-sm-2 control-label">Content</label>
          <div class="col-sm-10">
            <textarea rows="3" class="form-control" name="content" required readonly style="resize: none">@issue.content</textarea>
            @if(form.hasErrors) {
              @for(error <- form.errors) {
                @if(error.key.equals("content")){
                  <label class="label-danger">@error.message=@error.args</label>
                }
              }
            }
          </div>
        </div>
        <div class="form-group">
          <label for="challenge" class="col-sm-2 control-label">Action</label>
          <div class="col-sm-10">
            <textarea rows="3" class="form-control" name="action" required readonly style="resize: none">@issue.action</textarea>
            @if(form.hasErrors) {
              @for(error <- form.errors) {
                @if(error.key.equals("action")){
                  <label class="label-danger">@error.message=@error.args</label>
                }
              }
            }
          </div>
        </div>

        <div class="form-group">
          <label for="challenge" class="col-sm-2 control-label">Assignee</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="assignee" readonly value="@issue.assignee"/>
            @if(form.hasErrors) {
              @for(error <- form.errors) {
                @if(error.key.equals("assignee")){
                  <label class="label-danger">@error.message=@error.args</label>
                }
              }
            }
          </div>
        </div>

        <div class="form-group">
          <label for="raised-date" class="col-sm-2 control-label">Deadline</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="deadline" required value="@issue.deadline" readonly>
            @if(form.hasErrors) {
              @for(error <- form.errors) {
                @if(error.key.equals("deadline")){
                  <label class="label-danger">@error.message=@error.args</label>
                }
              }
            }
          </div>
        </div>

        <div class="form-group">
          <label for="status" class="col-sm-2 control-label">Status</label>
          <div class="col-sm-10">
            <select class="form-control" name="status" id="status">
              <option value="PENDING" @if(issue.status.equals("PENDING")){ selected="selected" }>PENDING</option>
              <option value="RESOLVED" @if(issue.status.equals("RESOLVED")){ selected="selected"}>RESOLVED</option>
              <option value="CANCELLED" @if(issue.status.equals("CANCELLED")){ selected="selected" }>CANCELLED</option>
            </select>
            @if(form.hasErrors) {
              @for(error <- form.errors) {
                @if(error.key.equals("status")){
                  <label class="label-danger">@error.message=@error.args</label>
                }
              }
            }
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12 text-right">
            <button class="btn btn-success" type="submit">Update</button>
            <a href="/" class="btn btn-default">Cancel</a>
          </div>
        </div>
      </form>
    </div>
  </div>
}